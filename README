synccode - Sincroniza codigo-fonte de repositorios SVN entre servidores

E necessario a presenca de quatro utilitarios do Linux no servidor:
  sed: para tratamento de string.
  svn: para baixar o codigo-fonte do repositorio subversion.
  rsync: para sincronizar os diretorios.
  dialog: para utilizar caixas de dialogo de interacao com o usuario.

Instalacao no servidor
----------------------
1. Abrir um terminal no Linux ou putty no Windows.

2. Copiar o programa para o diretorio do usuario no servidor ssh: scp -P <porta> synccode <destino>
   Exemplo: scp -P 22 synccode usuario@192.168.0.1:~/

3. Digitar: ssh -p <porta_ssh> usuario@ip_servidor <enter> <depois a senha de acesso>
   Exemplo: ssh -p 22 usuario@192.168.0.1

4. Se nao conectou como root, transforme-se: sudo su (para distribuicoes debian based)

5. Criar o diretorio /opt/synccode: mkdir /opt/synccode

6. Mover o programa para o diretorio criado: mv synccode /opt/synccode

7. Mudar o proprietario do diretorio: chown usuario.grupo /opt/synccode

8. Mudar as permissoes de acesso ao diretorio: chmod 755 -R /opt/synccode

9. Criar um link simbolico para o programa: ln -s /opt/synccode/synccode /usr/local/bin/synccode

10. Volte a ser usuario comum: exit

11. Execute o programa: synccode

12. Tecle <enter> no projeto.

13. Vao ser feitas 3 perguntas de configuracao do programa, caso nao haja mudancas tecle <enter> em cada opcao.
    Servidor = 192.168.0.1
    Diretorio do Repositorio = /var/svn/desenvolvimento/
    Diretorio de Destino = /var/www/
    Nome de login no SVN = usuario
    Senha do SVN = senha
    Porta do servico SSH = numero da porta

    OBS.: Nao esqueca das barras no final do caminho dos diretorios.

14. A seguir sera feita a pergunta do departamento/gerencia em que trabalha.

15. A seguir podera selecionar um modulo ou demais pastas do projeto.

16. Segue abaixo o processo realizado pelo programa:
    O codigo-fonte e baixado do repositorio svn em um diretorio temporario, dentro do diretorio base de destino.
    Em seguida e sincronizado o diretorio temporario com o diretorio de destino do projeto.
    E gravado um log dos arquivos sincronizados no diretorio do usuario.
    Tambem e feito um backup (bkp-<projeto>) dentro do diretorio de destino com os arquivos que foram sincronizados.

Arquivos de Configuracao
------------------------
Os seguintes arquivos sao criados na instalacao do programa no diretorio /opt/synccode/

1. projetos: lista com o nome dos projetos, com o formato abaixo:
projeto:descricao do projeto

2. gerencias: lista com o nome das gerencias/departamentos, com o formato abaixo:
sigla:descricao da gerencia

3. <projeto>_completo: lista de diretorios de sincronizacao de todo o projeto, com o formato abaixo:
titulo:descricao:diretorio de origem:diretorio de destino:modo de comunicacao

4. <projeto>_exclude: lista com diretorios que nao serao sincronizados, com o formato abaixo:
/diretorio/subdiretorio/

5. <projeto>_modulos: lista dos modulos de cada gerencia, com o formato abaixo:
sigla da gerencia:modulo:descricao do modulo:filtro1|filtro2|...

6. synccode.conf: parametros que foram gravados na primeira execucao do programa, com o formato abaixo:
VARIAVEL="conteudo"
